<!DOCTYPE html>
<html lang="en">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  
    <title>Posts :: Terminal</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="" />
<meta name="keywords" content="" />

  <meta name="robots" content="noodp" />

<link rel="canonical" href="http://localhost:1313/posts/" />





  
  <link rel="stylesheet" href="http://localhost:1313/css/buttons.min.2bc533403a27dfe0e93105a92502b42ce4587e2e4a87d9f7d349e51e16e09478.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/code.min.00125962708925857e7b66dbc58391d55be1191a3d0ce2034de8c9cd2c481c36.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/fonts.min.4881f0c525f3ce2a1864fb6e96676396cebe1e6fcef1933e8e1dde7041004fb5.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/footer.min.2e3eb191baee58dd05a9f0104ac1fab0827bca7c64dafe0b2579f934c33a1d69.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/gist.min.a751e8b0abe1ba8bc53ced52a38b19d8950fe78ca29454ea8c2595cf26aad5c0.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/header.min.b6fb4423cf82a9f9d7abc9cd010223fa3d70a6526a3f28f8e17d814c06e18f9e.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/main.min.fe8dc560fccb53a458b0db19ccb7b265764ac46b68596b7e099c6793054dd457.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/menu.min.83637a90d903026bc280d3f82f96ceb06c5fc72b7c1a8d686afb5bbf818a29f7.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/pagination.min.82f6400eae7c7c6dc3c866733c2ec0579e4089608fea69400ff85b3880aa0d3c.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/post.min.fc74ca360273c1d828da3c02b8174eba435607b369d98418ccc6f2243cd4e75d.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/prism.min.9023bbc24533d09e97a51a0a42a5a7bfe4c591ae167c5551fb1d2191d11977c0.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/syntax.min.cc789ed9377260d7949ea4c18781fc58959a89287210fe4edbff44ebfc1511b6.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/terminal.min.dd0bf9c7cacb24c1b0184f52f1869b274e06689557468cc7030ccf632328eb97.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/terms.min.b81791663c3790e738e571cdbf802312390d30e4b1d8dc9d814a5b5454d0ac11.css">







<link rel="shortcut icon" href="http://localhost:1313/favicon.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">


<meta name="twitter:card" content="summary" />



<meta property="og:locale" content="en" />
<meta property="og:type" content="website" />
<meta property="og:title" content="Posts">
<meta property="og:description" content="" />
<meta property="og:url" content="http://localhost:1313/posts/" />
<meta property="og:site_name" content="Terminal" />

  <meta property="og:image" content="http://localhost:1313/og-image.png">

<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="627">





  <link href="/posts/index.xml" rel="alternate" type="application/rss+xml" title="Terminal" />









</head>
<body>


<div class="container">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="/">
  <div class="logo">
    Alex Nduta
  </div>
</a>

    </div>
    
      <ul class="menu menu--mobile">
  <li class="menu__trigger">Menu&nbsp;▾</li>
  <li>
    <ul class="menu__dropdown">
      
        
          <li><a href="/about">About</a></li>
        
      
        
          <li><a href="/articles">Articles</a></li>
        
      
        
          <li><a href="/showcase">CV</a></li>
        
      
        
          <li><a href="/projects">Projects</a></li>
        
      
      
    </ul>
  </li>
</ul>

    
    
  </div>
  
    <nav class="navigation-menu">
  <ul class="navigation-menu__inner menu--desktop">
    
      
        
          <li><a href="/about" >About</a></li>
        
      
        
          <li><a href="/articles" >Articles</a></li>
        
      
        
          <li><a href="/showcase" >CV</a></li>
        
      
        
          <li><a href="/projects" >Projects</a></li>
        
      
      
    
  </ul>
</nav>

  
</header>


  <div class="content">
    
  
  <div class="posts">
    
      <article class="post on-list">
        <h2 class="post-title">
          <a href="http://localhost:1313/posts/how-to-create-a-kubenetes-cluster/">How  to create a 3-node kubernetes cluster using kubeadm</a>
        </h2>
        <div class="post-meta"><time class="post-date">2025-09-03</time><span class="post-author">Alex Kinyanjui</span></div>

        
          <span class="post-tags">
            
            #<a href="http://localhost:1313/tags/k8s/">k8s</a>&nbsp;
            
            #<a href="http://localhost:1313/tags/kubernetes/">kubernetes</a>&nbsp;
            
            #<a href="http://localhost:1313/tags/kubeadm/">kubeadm</a>&nbsp;
            
          </span>
        

        


        <div class="post-content">
          
            <h1 id="how--to-create-a-3-node-kubernetes-cluster-using-kubeadm">How  to create a 3-node kubernetes cluster using kubeadm</h1>
<ul>
<li>In kubernetes, a cluster is basicaly a collection of nodes. We majorly have a <code>Control plane</code> that does all the administrative operations and the <code>Nodes</code> whichs are responsible for housing the <code>pods</code>.</li>
</ul>
<h2 id="control-plane">Control plane</h2>
<ul>
<li>This is the brains of the whole sytem, processes instrictions and sends them to the nodes via the <code>kubelet</code></li>
<li>The control plane contains the following:
<ul>
<li>Apiserver</li>
<li>Etcd</li>
<li>kubelet</li>
<li>kube-scheduler</li>
<li>kubectl</li>
</ul>
</li>
</ul>
<h3 id="apiserver">Apiserver</h3>
<ul>
<li>This is the tool that receives requests from users and redirects it to different components within the controlplane</li>
<li>It acts as a gateway to the outside world and receives requests from the user using the <code>kubectl</code> client</li>
<li>If a request is sent to create a pod <code>kubectl run nginx --image nginx</code>, the request is sent to the <code>kube-scheduler</code> which comunicates with the <code>kubelets</code> to know which node is going to process the workload</li>
<li>The kubelets are found in every node and is the gateway between the nodes and the control plane</li>
<li>It keeps regular watch for any instructions coming from the apiserver which is sent as a <code>podspec</code></li>
<li>The kubelet checks the podspec to see if the pods are in the described state, if not so, it communictaes with the <code>container runtime</code> to crate pods so as to meet the desired state.</li>
</ul>
<h2 id="the-setup">The setup</h2>
<p>This is a basic setup running on a proxmox server. I have three VMs <code>control</code>, <code>Node0</code> and <code>Node1</code>
the main intention is to create a kubentes cluster</p>
          
        </div>

        
           <div>
            <a class="read-more button inline" href="/posts/how-to-create-a-kubenetes-cluster/"></a>
          </div>
        
      </article>
    
      <article class="post on-list">
        <h2 class="post-title">
          <a href="http://localhost:1313/posts/how-to-upgrade-a-kubernetes-node-in-a-cluster/">How to upgrade a kubernetes node in a cluster</a>
        </h2>
        <div class="post-meta"><time class="post-date">2024-12-03</time><span class="post-author">Alex Kinyanjui</span></div>

        
          <span class="post-tags">
            
            #<a href="http://localhost:1313/tags/"></a>&nbsp;
            
            #<a href="http://localhost:1313/tags/"></a>&nbsp;
            
          </span>
        

        


        <div class="post-content">
          
            <p>##context
we have 3 major nodes running
- <code>control</code>
- <code>node0</code>
- <code>node1</code>
upon running the command <code>kubectl get nodes</code>, we realise that the two worker nodes are on kuberntes v1.30 and the controlplan is on kubentes v1.34.
Our main tasks is to upgrade the two nodes.
<em>NOTE:</em> This update procedure only applies to updating a patch version
When upgrading a node in a cluster, you need to work on one node at a time for high availability. This means that systems do not have to go down because of an upgrade.</p>
          
        </div>

        
           <div>
            <a class="read-more button inline" href="/posts/how-to-upgrade-a-kubernetes-node-in-a-cluster/"></a>
          </div>
        
      </article>
    
      <article class="post on-list">
        <h2 class="post-title">
          <a href="http://localhost:1313/posts/1-hardware-review/">1 Hardware Review</a>
        </h2>
        <div class="post-meta"><time class="post-date">2024-12-03</time><span class="post-author">Alex Kinyanjui</span></div>

        
          <span class="post-tags">
            
            #<a href="http://localhost:1313/tags/"></a>&nbsp;
            
            #<a href="http://localhost:1313/tags/"></a>&nbsp;
            
          </span>
        

        


        <div class="post-content">
          
            <h1 id="devops-zero-to-hero--1-hardware-review">DevOps Zero to Hero: # 1 Hardware Review</h1>
<p>So, the hardware landed two weeks after the order. The specs were:</p>
<ul>
<li><code>Lenovo</code> ThinkSystem SR650 V3 (2U Rack Server)</li>
<li><code>Processor</code>: Intel Xeon Silver 4410Y (12C 2.0GHz)</li>
<li><code>Memory</code>: 1 x 64GB DDR5 RDIMM</li>
<li><code>Disk Bay</code>: 8 SAS/SATA SFF</li>
<li><code>Storage</code>: 2 x 480GB Read Intensive SATA SSD, 4 x 1.2TB SAS HDD</li>
<li><code>NIC</code>: 4-port 1GbE RJ45, 2-port 10GbE SFP28</li>
<li><code>Power Supply</code>: 2 x 1100W Titanium</li>
<li><code>Fans</code>: 5 x Standard Fans</li>
</ul>
<h2 id="processor">Processor</h2>
<p>Coming from the world of regular CPUs, you might not be familiar with <code>Intel Xeon</code> CPUs. Server CPUs are designed to balance performance and power consumption, striking a delicate balance. They are not as fast as regular CPUs in terms of clock speed, but they are optimized for sustained performance under heavy workloads.</p>
          
        </div>

        
           <div>
            <a class="read-more button inline" href="/posts/1-hardware-review/"></a>
          </div>
        
      </article>
    
      <article class="post on-list">
        <h2 class="post-title">
          <a href="http://localhost:1313/posts/aws-securityiam/">AWS: Identity and Access Management(IAM)</a>
        </h2>
        <div class="post-meta"><time class="post-date">2024-12-03</time><span class="post-author">Alex Kinyanjui</span></div>

        
          <span class="post-tags">
            
            #<a href="http://localhost:1313/tags/"></a>&nbsp;
            
            #<a href="http://localhost:1313/tags/"></a>&nbsp;
            
          </span>
        

        


        <div class="post-content">
          
            <h1 id="aws-identity-and-access-management">AWS: Identity and Access Management</h1>
<p><strong>What is IAM?</strong></p>
<p>IAM stands for Identity and Access Management. It is a tool provided by cloud providers that you can use for user, role, and privilege management. This tool is very important as it can determine how vulnerable or strong your account can be. IAM is one of the main security tools provided by AWS as part of its shared responsibility model in the cloud.</p>
          
        </div>

        
           <div>
            <a class="read-more button inline" href="/posts/aws-securityiam/"></a>
          </div>
        
      </article>
    
      <article class="post on-list">
        <h2 class="post-title">
          <a href="http://localhost:1313/posts/troubleshooting-misconfigured-kube-controller-manager/">Troubleshooting a misconfigured kube-controller manager</a>
        </h2>
        <div class="post-meta"><time class="post-date">2024-12-03</time><span class="post-author">Alex Kinyanjui</span></div>

        
          <span class="post-tags">
            
            #<a href="http://localhost:1313/tags/"></a>&nbsp;
            
            #<a href="http://localhost:1313/tags/"></a>&nbsp;
            
          </span>
        

        


        <div class="post-content">
          
            <h1 id="troubleshooting-a-misconfigured-kube-controller-manager">Troubleshooting a misconfigured kube-controller manager</h1>
<p><a href="https://killercoda.com/killer-shell-cka/scenario/kube-controller-manager-misconfigured">Lab</a>
The main role of a <code>kube-controller manager</code> is to check the health of running containers. This means that in a k8s cluster, if the kube-controller is not operational, it would be impossible to detect failed applications to trigger the sel-healing mechanism which is basically the k8s system trying to restart the pods. This means that probes would also fail.</p>
<h2 id="context">context</h2>
<ul>
<li>The problem here is that the kube-controller manager pod is not comming on. its is stuck on the <code>CrashLoopBack</code> status</li>
<li>we can confirm this with the command <code>kubectl get pods -n kube-system</code>. This just lists all pods in the <code>kube-system</code> namespace</li>
<li>considering that the <code>kube-controller manager</code> is a static pod, we can use the container runtime commands to check its logs. In context of <code>Docker</code>, we would use <code>docker ps</code> but our system uses <code>cri-o</code> and thus we can list all running containers using the command <code>watch crictl ps -a</code>. the <code>-a</code> flag just specifies that we want to see even the failed container</li>
<li>The above commnad should list all running containers in the system even the failed and <code>kube-controller-manager</code> should be there</li>
<li>Beaing a static pod, we can either use the <code>crictl logs container-id</code>, <code>journalctl</code> or <code>/var/log/syslog</code> file to check for errors</li>
</ul>
<h2 id="fix">fix</h2>
<ul>
<li>Using the commad <code>crictl logs container-ID | grep -i error</code> we get an output telling us that there is an error in the manifest file</li>
<li>The static pod&rsquo;s manifest files are located in <code>/etc/kubernetes/manifests/</code></li>
<li>a simple search on the patterns got from the error in the manifest file, we can get the rootcause of the error</li>
<li>saving the manifest file will trigger the system to create another pod from the corrected manifest file. This might take awhile, alternatively, we can move the manifest file to another directory and put it back in the kubernetes manifests file. This will manualy trigger the creation of a new <code>kube-controller manager</code> pod</li>
<li>running the command <code>kubectl get pods -n kube-system</code> will show the pod in <strong>Running</strong> state</li>
</ul>
          
        </div>

        
           <div>
            <a class="read-more button inline" href="/posts/troubleshooting-misconfigured-kube-controller-manager/"></a>
          </div>
        
      </article>
    
      <article class="post on-list">
        <h2 class="post-title">
          <a href="http://localhost:1313/posts/troubleshooting-misconfigured-kublete/">Troubleshooting a misconfigured kublete</a>
        </h2>
        <div class="post-meta"><time class="post-date">2024-12-03</time><span class="post-author">Alex Kinyanjui</span></div>

        
          <span class="post-tags">
            
            #<a href="http://localhost:1313/tags/"></a>&nbsp;
            
            #<a href="http://localhost:1313/tags/"></a>&nbsp;
            
          </span>
        

        


        <div class="post-content">
          
            <h1 id="troubleshooting-a-misconfigured-kublete">Troubleshooting a misconfigured kublete</h1>
<p><a href="https://killercoda.com/killer-shell-cka/scenario/kube-controller-manager-misconfigured">Lab</a></p>
<ul>
<li>A <code>Kublete</code> is the agent that runs in the nodes that directly communicates with the <code>Apiserver</code> receiving instructions from the control node as a <code>podspec</code>.</li>
<li>The kubelet receives a  podspec which is a YAML file from the apiserver that describes how the containers should be running. The kublet makes sure that the nodes are healthy and ready t</li>
</ul>
<h2 id="context">context</h2>
<ul>
<li>In this lab, the <code>kublete</code> in <em>node01</em> is not working and you can confirm that by getting to the node01 and checking the kubelet service status</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>$ ssh node01
</span></span><span style="display:flex;"><span>$ systemctl status kubelet
</span></span><span style="display:flex;"><span><span style="color:#75715e"># for older systems</span>
</span></span><span style="display:flex;"><span>$ service status kubelet
</span></span></code></pre></div><ul>
<li>With the kubelet down, this means that we are unable to know the state of our node. This makes it impossible to schedule any pod on it.</li>
<li>Get the logs to see any issues raised</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>$ cat /var/log syslog | grep -i kubelet
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># or</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ journalctl -xe | kubelet
</span></span></code></pre></div><p>This should give all logs related to the kubelet and why it failed</p>
          
        </div>

        
           <div>
            <a class="read-more button inline" href="/posts/troubleshooting-misconfigured-kublete/"></a>
          </div>
        
      </article>
    
      <article class="post on-list">
        <h2 class="post-title">
          <a href="http://localhost:1313/posts/what-is-kubernetes/">What is Kubernetes ?</a>
        </h2>
        <div class="post-meta"><time class="post-date">2024-12-03</time><span class="post-author">Alex Kinyanjui</span></div>

        
          <span class="post-tags">
            
            #<a href="http://localhost:1313/tags/"></a>&nbsp;
            
            #<a href="http://localhost:1313/tags/"></a>&nbsp;
            
          </span>
        

        


        <div class="post-content">
          
            <h1 id="what-is-kubernetes">What is kubernetes?</h1>
<p>This is a container ochestration tool that was initialy developed by Google for use as an internal tool. It was later on made open source and donated to the Cloud Native Foundation(CNCF).
This sounds like a lot of tech words to throw around in a single sentence. Lets go to the very basics. What is a container?</p>
<p>A <a href="https://alexnduta.netlify.app/posts/containerrisation/">container</a> is a package that contains an application and all the dependencies it needs to run.
This makes it easy to share around applications and run them in different enviroment. This is all fun an games until you have to work with multiple containers.
For multiple containerised applications, we use docker compose which is a IaaC used to define multiple container environments.
This gets the job done but has limitations. We have to manualy manage and control the containers. This gets harder to scale or fix a falling container.
A failing container could be a business critical service that could mean the ultimate death of the business due to frustrations faced by the customer accessing the service.</p>
          
        </div>

        
           <div>
            <a class="read-more button inline" href="/posts/what-is-kubernetes/"></a>
          </div>
        
      </article>
    
      <article class="post on-list">
        <h2 class="post-title">
          <a href="http://localhost:1313/posts/url-road-trip/">The exciting Roadtrip of a URL</a>
        </h2>
        <div class="post-meta"><time class="post-date">2024-11-30</time><span class="post-author">Alex Kinyanjui</span></div>

        
          <span class="post-tags">
            
            #<a href="http://localhost:1313/tags/"></a>&nbsp;
            
            #<a href="http://localhost:1313/tags/"></a>&nbsp;
            
          </span>
        

        


        <div class="post-content">
          
            <h1 id="the-exciting-roadtrip-of-a-url">The exciting Roadtrip of a URL</h1>
<p>Have you ever wondered what happens behind the scenes when you type “https://www.google.com&quot; into your browser and press Enter? The seemingly instant appearance of Google’s homepage is the result of a complex and highly organised series of steps involving various technologies and systems.</p>
<p>In this blog post, we’ll take a deep dive into the route taken by a URL, exploring the role of DNS requests, TCP/IP, firewalls, HTTPS/SSL, load-balancers, web servers, application servers, and databases.</p>
          
        </div>

        
           <div>
            <a class="read-more button inline" href="/posts/url-road-trip/"></a>
          </div>
        
      </article>
    
      <article class="post on-list">
        <h2 class="post-title">
          <a href="http://localhost:1313/posts/intro/">Intro: DevOps Zero to hero</a>
        </h2>
        <div class="post-meta"><time class="post-date">2024-11-30</time><span class="post-author">Alex Kinyajui</span></div>

        
          <span class="post-tags">
            
            #<a href="http://localhost:1313/tags/"></a>&nbsp;
            
          </span>
        

        


        <div class="post-content">
          
            <h1 id="devops-zero-to-hero">DevOps Zero to hero</h1>
<p>This will be a series of articles showcasing the skills I pick up along the way.</p>
<h3 id="backstory">Backstory</h3>
<p>I&rsquo;ve been a Network Support Technician for two years and recently got promoted to Network Security Engineer at the same organization. This role is more of a hybrid, as I&rsquo;m responsible for the institution&rsquo;s IT infrastructure.</p>
<p>Our current setup is quite complex, and I&rsquo;ll draw an architectural diagram in future articles to illustrate the issues. Our infrastructure has many unnecessary connections and devices. For example, we host a Windows server as a VM on one PC and our Unifi controller on another.</p>
          
        </div>

        
           <div>
            <a class="read-more button inline" href="/posts/intro/"></a>
          </div>
        
      </article>
    
      <article class="post on-list">
        <h2 class="post-title">
          <a href="http://localhost:1313/posts/budgetlify/">Budgetlify</a>
        </h2>
        <div class="post-meta"><time class="post-date">2024-01-25</time><span class="post-author">Alex Kinyanjui</span></div>

        

        


        <div class="post-content">
          
            <ul>
<li><a href="https://docs.google.com/presentation/d/1uk3WBFevD6KB6ZKzvk_lvbsDPVDola6dTf7MqW_O09Q/edit?usp=sharing">presentatation</a></li>
<li><a href="https://github.com/AlexNduta/Budgetlify-API-SQL-">Source code</a>
This was a personal budgeting application to help me counter my poor budgeting and financial habits.</li>
</ul>
<h2 id="technologies">Technologies</h2>
<p><code>Python</code>
<code>FastAPI</code>
<code>MySQL</code>
<code>Linux</code></p>
<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
       <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share; fullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/oi7WxT6WvN8?autoplay=0&amp;controls=1&amp;end=0&amp;loop=0&amp;mute=0&amp;start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"></iframe>
     </div>

<ul>
<li>This is a budgeting app that enables you to create an account and track your regular spending, savings</li>
</ul>
<p>Dir:
<code>API</code>: This is the backend section of the app
- Queries the DB(currently using file storage) for data
- Currently only accepts <code>Category</code>, <code>Date</code>, <code>Amount</code> and <code>Description</code>. The ID is auto generated</p>
          
        </div>

        
           <div>
            <a class="read-more button inline" href="/posts/budgetlify/"></a>
          </div>
        
      </article>
    

    <div class="pagination">
  <div class="pagination__buttons">
    
    
      <a href="/posts/page/2/" class="button next">
        <span class="button__text">Older posts</span>
        <span class="button__icon">→</span>
      </a>
    
  </div>
</div>

  </div>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright">
        <span>© 2025 Powered by <a href="https://gohugo.io">Hugo</a></span>
    
      <span>:: <a href="https://github.com/panr/hugo-theme-terminal" target="_blank">Theme</a> made by <a href="https://github.com/panr" target="_blank">panr</a></span>
      </div>
  </div>
</footer>






<script type="text/javascript" src="/bundle.min.js"></script>





  
</div>

</body>
</html>
