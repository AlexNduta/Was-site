<!DOCTYPE html>
<html lang="en">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  
    <title>How to use Nginx as a Loadbalancer :: Terminal</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="What is a Loadbalancer? In situations where we have a single server and multiple clients, our server can be overwhelmed making it unable to serve webpages as expected. In a technical fashion, its is recommended to have multiple servers to distribute the request load. Having multiple severs is good but its all useless unless there&rsquo;s a tool that handles how the logic of how the load is balanced through the servers. A load balancer basically accepts request form users on behalf of severs and then routes traffic to the servers depending on the algorithm used. The algorithm could require the loadbalancer to either forward traffic to a server that&rsquo;s alive or just any sever. The main goal is to recduce the load on the severs. This reduces cases such as DDOS attacks as no single sever will have to handle all traffic. As discussed earlie, nginx can also be used as a Loadbalancer
" />
<meta name="keywords" content="Nginx, Webserver, SSL, HTTP, Loadbalancer" />

  <meta name="robots" content="noodp" />

<link rel="canonical" href="http://localhost:1313/posts/nginx-as-a-loadbalancer/" />





  
  <link rel="stylesheet" href="http://localhost:1313/css/buttons.min.2bc533403a27dfe0e93105a92502b42ce4587e2e4a87d9f7d349e51e16e09478.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/code.min.00125962708925857e7b66dbc58391d55be1191a3d0ce2034de8c9cd2c481c36.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/fonts.min.4881f0c525f3ce2a1864fb6e96676396cebe1e6fcef1933e8e1dde7041004fb5.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/footer.min.2e3eb191baee58dd05a9f0104ac1fab0827bca7c64dafe0b2579f934c33a1d69.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/gist.min.a751e8b0abe1ba8bc53ced52a38b19d8950fe78ca29454ea8c2595cf26aad5c0.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/header.min.b6fb4423cf82a9f9d7abc9cd010223fa3d70a6526a3f28f8e17d814c06e18f9e.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/main.min.fe8dc560fccb53a458b0db19ccb7b265764ac46b68596b7e099c6793054dd457.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/menu.min.83637a90d903026bc280d3f82f96ceb06c5fc72b7c1a8d686afb5bbf818a29f7.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/pagination.min.82f6400eae7c7c6dc3c866733c2ec0579e4089608fea69400ff85b3880aa0d3c.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/post.min.fc74ca360273c1d828da3c02b8174eba435607b369d98418ccc6f2243cd4e75d.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/prism.min.9023bbc24533d09e97a51a0a42a5a7bfe4c591ae167c5551fb1d2191d11977c0.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/syntax.min.cc789ed9377260d7949ea4c18781fc58959a89287210fe4edbff44ebfc1511b6.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/terminal.min.dd0bf9c7cacb24c1b0184f52f1869b274e06689557468cc7030ccf632328eb97.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/terms.min.b81791663c3790e738e571cdbf802312390d30e4b1d8dc9d814a5b5454d0ac11.css">







<link rel="shortcut icon" href="http://localhost:1313/favicon.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">


<meta name="twitter:card" content="summary" />



<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="How to use Nginx as a Loadbalancer">
<meta property="og:description" content="What is a Loadbalancer? In situations where we have a single server and multiple clients, our server can be overwhelmed making it unable to serve webpages as expected. In a technical fashion, its is recommended to have multiple servers to distribute the request load. Having multiple severs is good but its all useless unless there&rsquo;s a tool that handles how the logic of how the load is balanced through the servers. A load balancer basically accepts request form users on behalf of severs and then routes traffic to the servers depending on the algorithm used. The algorithm could require the loadbalancer to either forward traffic to a server that&rsquo;s alive or just any sever. The main goal is to recduce the load on the severs. This reduces cases such as DDOS attacks as no single sever will have to handle all traffic. As discussed earlie, nginx can also be used as a Loadbalancer
" />
<meta property="og:url" content="http://localhost:1313/posts/nginx-as-a-loadbalancer/" />
<meta property="og:site_name" content="Terminal" />

  
  
  <meta property="og:image" content="http://localhost:1313/">

<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="627">


  <meta property="article:published_time" content="2025-10-07 12:42:47 &#43;0300 EAT" />












</head>
<body>


<div class="container">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="/">
  <div class="logo">
    Alex Nduta
  </div>
</a>

    </div>
    
      <ul class="menu menu--mobile">
  <li class="menu__trigger">Menu&nbsp;▾</li>
  <li>
    <ul class="menu__dropdown">
      
        
          <li><a href="/about">About</a></li>
        
      
        
          <li><a href="/articles">Articles</a></li>
        
      
        
          <li><a href="/showcase">CV</a></li>
        
      
        
          <li><a href="/projects">Projects</a></li>
        
      
      
    </ul>
  </li>
</ul>

    
    
  </div>
  
    <nav class="navigation-menu">
  <ul class="navigation-menu__inner menu--desktop">
    
      
        
          <li><a href="/about" >About</a></li>
        
      
        
          <li><a href="/articles" >Articles</a></li>
        
      
        
          <li><a href="/showcase" >CV</a></li>
        
      
        
          <li><a href="/projects" >Projects</a></li>
        
      
      
    
  </ul>
</nav>

  
</header>


  <div class="content">
    
<article class="post">
  <h1 class="post-title">
    <a href="http://localhost:1313/posts/nginx-as-a-loadbalancer/">How to use Nginx as a Loadbalancer</a>
  </h1>
  <div class="post-meta"><time class="post-date">2025-10-07</time><span class="post-author">Alex Kinyanjui</span></div>

  
    <span class="post-tags">
      
      #<a href="http://localhost:1313/tags/nginx/">Nginx</a>&nbsp;
      
      #<a href="http://localhost:1313/tags/webserver/">Webserver</a>&nbsp;
      
      #<a href="http://localhost:1313/tags/ssl/">SSL</a>&nbsp;
      
      #<a href="http://localhost:1313/tags/http/">HTTP</a>&nbsp;
      
    </span>
  
  


  

  <div class="post-content"><div>
        <h1 id="what-is-a-loadbalancer">What is a Loadbalancer?<a href="#what-is-a-loadbalancer" class="hanchor" ariaLabel="Anchor">#</a> </h1>
<p>In situations where we have a single server and multiple clients, our server can be overwhelmed making it unable to serve webpages as expected. In a technical fashion, its is recommended to have multiple servers to distribute the request load. Having multiple severs is good but its all useless unless there&rsquo;s a tool that handles how the logic of how the load is balanced through the servers.
A load balancer basically accepts request form users on behalf of severs and then routes traffic to the servers depending on the algorithm used. The algorithm could require the loadbalancer to either forward traffic to a server that&rsquo;s alive or just any sever. The main goal is to recduce the load on the severs. This reduces cases such as DDOS attacks as no single sever will have to handle all traffic.
As discussed earlie, nginx can also be used as a Loadbalancer</p>
<h2 id="what-are-the-benefits-of-a-load-balancer">What are the benefits of a load balancer<a href="#what-are-the-benefits-of-a-load-balancer" class="hanchor" ariaLabel="Anchor">#</a> </h2>
<ol>
<li>Improved perfomance due to traffic being evenly distributed across the specified server</li>
<li>Scalabioity: Allows you to scale horizontaly where instead of getting more powerful servers, you can get simple servers</li>
<li>High Availability is achieved as traffic is well distributed, if one of the cluster servers is out, it does not affect  the main application</li>
<li>i</li>
</ol>
<h2 id="scenario">Scenario<a href="#scenario" class="hanchor" ariaLabel="Anchor">#</a> </h2>
<p>I have 3 app servers with the hostnames as follows:
- server stapp01.stratos.xfusioncorp.com
- server stapp02.stratos.xfusioncorp.com
- server stapp03.stratos.xfusioncorp.com</p>
<p>I also have another server that I intend on using it as a loadbalancer. The end goal is enable by loadbalancer to takeup traffic from users and distribute it across my 3 servers.</p>
<h2 id="solution">Solution<a href="#solution" class="hanchor" ariaLabel="Anchor">#</a> </h2>
<ol>
<li>install nginx in the server we intend to use as the load balanacer
<code>sudo dnf install nginx</code></li>
<li>Access the configuration file in the path <code>/et/nginx/nginx.conf</code> and configure it to be used as a loadbalancer</li>
<li>edit the config file to this</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>http <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>upstream app_server <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    server stapp01.stratos.xfusioncorp.com:8087;
</span></span><span style="display:flex;"><span>    server stapp02.stratos.xfusioncorp.com:8087;
</span></span><span style="display:flex;"><span>    server stapp03.stratos.xfusioncorp.com:8087;
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>server <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    listen 80;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    server_name _;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    access_log /var/log/nginx/access.log;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    location / <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        proxy_pass http://app_server;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        proxy_set_header Host $host;
</span></span><span style="display:flex;"><span>        proxy_set_header X-Real-IP $remote_addr;
</span></span><span style="display:flex;"><span>        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p><strong>breadkdown</strong>
<code>http{}</code> is the main container for the nginx webserver configuration
- everything related to serving HTTP trafic goes here
<code>upstream app_server{}</code> defines a server group called <em>app_server</em>. This is basically our cluster</p>
<blockquote>
<p>the <code>server</code> defines every speciifc server name and their serving port</p></blockquote>
<p><code>server{..}</code> Defines the virtual host or server instance
<code>access_log</code> specifies where the all successful logins will be logged
<code>location \</code> This catches all trafic on the url **
<code>proxy_pass</code> specifies where to send the data when its received and in this context, its sent over to the upstream group <code>app_server</code></p>
<p>Now, with the above setup and a simple webserver serving the default &lsquo;welcome&rsquo; webpage running on our servers, anytime we hit the Loadbalancer, it will direct traffic to either of the three servers</p>

      </div></div>

  
    
<div class="pagination">
  <div class="pagination__title">
    <span class="pagination__title-h"></span>
    <hr />
  </div>
  <div class="pagination__buttons">
    
      <a href="http://localhost:1313/posts/install-and-configure-a-web-application/" class="button inline prev">
        Install and configure a web application(Apache)
      </a>
    
    
      ::
    
    
      <a href="http://localhost:1313/posts/nginx-as-a-webserver/" class="button inline next">
        Using Nginx as a Web server
      </a>
    
  </div>
</div>


  

  
    

  
</article>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright">
        <span>© 2025 Powered by <a href="https://gohugo.io">Hugo</a></span>
    
      <span>:: <a href="https://github.com/panr/hugo-theme-terminal" target="_blank">Theme</a> made by <a href="https://github.com/panr" target="_blank">panr</a></span>
      </div>
  </div>
</footer>






<script type="text/javascript" src="/bundle.min.js"></script>





  
</div>

</body>
</html>
